<div class="card">
  <div class="card-header h5 font-weight-bold">
    Test Case Result
  </div>
  <div class="card-body">
    <!--begin::Content-->
    <h4 class="card-title font-weight-bold">{{ testCase?.name }}</h4>
    <p class="card-text">{{ testCase?.description }}</p>
    <div class="row">
      <div class="col-lg-6">
        <strong>Host:</strong>
        <span><a href="{{ testCase?.host }}" target="_blank"> {{ testCase?.host }}</a></span>
      </div>
      <div class="col-lg-6">
        <strong>Number of users (peak concurrency):</strong>
        <span> {{ testCase?.user_num }}</span>
      </div>
      <div class="col-lg-6">
        <strong>Duration:</strong>
        <span> {{ testCase?.duration }}</span>
      </div>
      <div class="col-lg-6">
        <strong>Spawn rate (users started/second):</strong>
        <span> {{ testCase?.spawn_rate }}</span>
      </div>
    </div>
    <hr>
    <table class="table table-bordered" *ngIf="testCaseResults.length > 0; else noDataTemplate">
      <thead>
        <tr>
          <th>#</th>
          <th>Type</th>
          <th>Name (Page)</th>
          <th>Total User</th>
          <th># Requests</th>
          <th># Fails</th>
          <th>Median (ms)</th>
          <th>90%ile (ms)</th>
          <th>99%ile (ms)</th>
          <th>Average (ms)</th>
          <th>Min (ms)</th>
          <th>Max (ms)</th>
          <th>Average Size (bytes)</th>
          <th>Current RPS</th>
          <th>Current Failures/s</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let testCaseResult of testCaseResults; let i = index">
          <td>{{ i + 1 }}.</td>
          <td>{{ testCaseResult.type }}</td>
          <td>{{ testCaseResult.name }}</td>
          <td>{{ testCaseResult.user_num }}</td>
          <td>{{ testCaseResult.request }}</td>
          <td>{{ testCaseResult.fail }}</td>
          <td>{{ testCaseResult.median }}</td>
          <td>{{ testCaseResult.percent_90 }}</td>
          <td>{{ testCaseResult.percent_99 }}</td>
          <td>{{ testCaseResult.average }}</td>
          <td>{{ testCaseResult.min }}</td>
          <td>{{ testCaseResult.max }}</td>
          <td>{{ testCaseResult.average_size }}</td>
          <td>{{ testCaseResult.current_rps }}</td>
          <td>{{ testCaseResult.current_failure }}</td>
        </tr>
      </tbody>
    </table>
    <ng-template #noDataTemplate>
      <div class="alert alert-warning">No result available yet.</div>
    </ng-template>
    <!--end::Content-->
</div>
</div>


<div class="card">
  <div class="card-header h5 font-weight-bold">
    Scenario Detail
    <!-- <button (click)="deleteScenario(scenario?._id)" class="btn btn-danger btn-sm float-right">Remove</button>
    <a [routerLink]="['/scenario/edit', scenario?._id]" class="btn btn-primary btn-sm mr-2 float-right">Edit</a> -->
  </div>
  <div class="card-body">
    <!--begin::Content-->
    <h4 class="card-title font-weight-bold">{{ scenario?.name }}</h4>
    <p class="card-text">{{ scenario?.description }}</p>
    <!--end::Content-->
</div>
</div>

<div class="card">
  <div class="card-header h5 font-weight-bold">
    Project Detail
  </div>
  <div class="card-body">
    <!--begin::Content-->
    <h4 class="card-title font-weight-bold">{{ project?.name }}</h4>
    <p class="card-text">{{ project?.description }}</p>
    <div class="col-lg-12 card-title pt-3 h5 pl-0 font-weight-bold">Acceptance Criteria</div>
    <div class="row">
      <div class="col-lg-6">
        <strong>Avg. Response Time:</strong>
        <span> {{ project?.avg_response_time }} ms</span>
      </div>
      <div class="col-lg-6">
        <strong>Error Percentage:</strong>
        <span> {{ project?.error_percentage }}%</span>
      </div>
      <div class="col-lg-6">
        <strong>CPU Usage:</strong>
        <span> {{ project?.cpu_usage }}%</span>
      </div>
      <div class="col-lg-6">
        <strong>Memory Usage:</strong>
        <span> {{ project?.memory_usage }}</span>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-lg-6">
        <strong>Created by:</strong>
        <span></span>
      </div>
      <div class="col-lg-6">
        <strong>Date:</strong>
        <span></span>
      </div>
    </div>
    <!--end::Content-->
  </div>
</div>

<div class="card">
  <div class="card-header h5 font-weight-bold">
    Performance Test Detail
  </div>
  <div class="card-body">
    <!--begin::Content-->
    <p class="card-text">{{ project?.test_detail }}</p>
    <!--end::Content-->
</div>
</div>
